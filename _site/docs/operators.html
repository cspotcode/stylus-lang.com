<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Stylus</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../css/style.css">
    <!--[if lt IE 9]><script src="../js/vendor/selectivizr-1.0.2.min.js"></script><![endif]-->
    <script src="../js/vendor/modernizr-2.8.2.min.js"></script>
    <script src="../js/vendor/respond.js-1.4.2.min.js"></script>
    <link rel="shortcut icon" href="../img/favicon.ico">
  </head>
  <body>
    <!--[if lt IE 9]>
      <div class="browsehappy">
        <p>
          You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/" target="_blank">upgrade your browser</a> to improve your experience.
        </p>
      </div>
    <![endif]-->


    <div class="wrap">

      <aside class="sidebar">
        <a href="/">
          <img src="../img/stylus-logo-white.svg">
        </a>
        <nav>
          
          
            <a href="/docs/atrules.html">Atrules</a>
          
            <a href="/docs/bifs.html">Bifs</a>
          
            <a href="/docs/block.html">Block</a>
          
            <a href="/docs/comments.html">Comments</a>
          
            <a href="/docs/compare.html">Compare</a>
          
            <a href="/docs/conditionals.html">Conditionals</a>
          
            <a href="/docs/css-style.html">Css Style</a>
          
            <a href="/docs/error-reporting.html">Error Reporting</a>
          
            <a href="/docs/escape.html">Escape</a>
          
            <a href="/docs/executable.html">Executable</a>
          
            <a href="/docs/extend.html">Extend</a>
          
            <a href="/docs/firebug.html">Firebug</a>
          
            <a href="/docs/font-face.html">Font Face</a>
          
            <a href="/docs/functions.html">Functions</a>
          
            <a href="/docs/functions.url.html">Functions.url</a>
          
            <a href="/docs/gedit.html">Gedit</a>
          
            <a href="/docs/hashes.html">Hashes</a>
          
            <a href="/docs/import.html">Import</a>
          
            <a href="/docs/interpolation.html">Interpolation</a>
          
            <a href="/docs/introspection.html">Introspection</a>
          
            <a href="/docs/iteration.html">Iteration</a>
          
            <a href="/docs/js.html">Js</a>
          
            <a href="/docs/keyframes.html">Keyframes</a>
          
            <a href="/docs/kwargs.html">Kwargs</a>
          
            <a href="/docs/literal.html">Literal</a>
          
            <a href="/docs/media.html">Media</a>
          
            <a href="/docs/middleware.html">Middleware</a>
          
            <a href="/docs/mixins.html">Mixins</a>
          
            <a href="/docs/operators.html">Operators</a>
          
            <a href="/docs/selectors.html">Selectors</a>
          
            <a href="/docs/sourcemaps.html">Sourcemaps</a>
          
            <a href="/docs/textmate.html">Textmate</a>
          
            <a href="/docs/vargs.html">Vargs</a>
          
            <a href="/docs/variables.html">Variables</a>
          
        </nav>
        <a href="http://launchboxhq.com">
          <img class="credit" src="../img/launchbox.svg" title="Web-design and hosting">
        </a>
        <a href="https://learnboost.com">
          <img class="credit" src="../img/learnboost.png" title="Creators of Stylus">
        </a>
        <a href="https://mojotech.com">
          <img class="credit" src="../img/mojotech.png" title="Logo">
        </a>
      </aside>

      <main class="content">
        <header class="logo">
          <a href="/">
            <img src="../img/stylus-logo.svg">
          </a>
        </header>

        <div class="docs">

          <h1 id="operators">Operators</h1>

<h2 id="operator-precedence">Operator Precedence</h2>

<p>Below is the operator precedence table, highest to lowest:</p>

<pre><code> .
 []
 ! ~ + -
 is defined
 ** * / %
 + -
 ... ..
 &lt;= &gt;= &lt; &gt;
 in
 == is != is not isnt
 is a
 &amp;&amp; and || or
 ?:
 = := ?= += -= *= /= %=
 not
 if unless
</code></pre>

<h2 id="unary-operators">Unary Operators</h2>

<p>The following unary operators are available, <code>!</code>, <code>not</code>, <code>-</code>, <code>+</code>, and <code>~</code>.</p>

<pre><code>!0
// =&gt; true

!!0
// =&gt; false

!1
// =&gt; false

!!5px
// =&gt; true

-5px
// =&gt; -5px

--5px
// =&gt; 5px

not true
// =&gt; false

not not true
// =&gt; true
</code></pre>

<p>The logical <code>not</code> operator has low precedence, therefore the following example could be replaced with</p>

<pre><code>a = 0
b = 1

!a and !b
// =&gt; false
// parsed as: (!a) and (!b)
</code></pre>

<p>With:</p>

<pre><code>not a or b
// =&gt; false
// parsed as: not (a or b)
</code></pre>

<h2 id="binary-operators">Binary Operators</h2>

<h3 id="subscript-">Subscript []</h3>

<p>The subscript operator allows us to grab a value inside an expression via index (zero-based).<br />
 Negative index values starts with the last element in the expression.</p>

<pre><code> list = 1 2 3
 list[0]
 // =&gt; 1

 list[-1]
 // =&gt; 3
</code></pre>

<p>Parenthesized expressions may act as tuples (e.g. <code>(15px 5px)</code>, <code>(1 2 3)</code>).</p>

<p>Below is an example that uses tuples for error handling (and showcasing the versatility of this construct):</p>

<pre><code> add(a, b)
   if a is a 'unit' and b is a 'unit'
     a + b
   else
     (error 'a and b must be units!')

 body
   padding add(1,'5')
   // =&gt; padding: error "a and b must be units";
   
   padding add(1,'5')[0]
   // =&gt; padding: error;
   
   padding add(1,'5')[0] == error
   // =&gt; padding: true;

   padding add(1,'5')[1]
   // =&gt; padding: "a and b must be units";
</code></pre>

<p>Here’s a more complex example. Now we’re invoking the built-in <code>error()</code> function with the return error message, whenever the ident (the first value) equals <code>error</code>.</p>

<pre><code> if (val = add(1,'5'))[0] == error
   error(val[1])
</code></pre>

<h2 id="range--">Range .. …</h2>

<p>Both the inclusive (<code>..</code>) and exclusive (<code>...</code>) range operators are provided, expanding to expressions:</p>

<pre><code> 1..5
 // =&gt; 1 2 3 4 5

 1...5
 // =&gt; 1 2 3 4

 5..1
 // =&gt; 5 4 3 2 1
</code></pre>

<h3 id="additive---">Additive: + -</h3>

<p>Multiplicative and additive binary operators work as expected. Type conversion is applied within unit type classes, or default to the literal value. For example <code>5s - 2px</code> results in <code>3s</code>.</p>

<pre><code>15px - 5px
// =&gt; 10px

5 - 2
// =&gt; 3

5in - 50mm
// =&gt; 3.031in

5s - 1000ms
// =&gt; 4s

20mm + 4in
// =&gt; 121.6mm

"foo " + "bar"
// =&gt; "foo bar"

"num " + 15
// =&gt; "num 15"
</code></pre>

<h3 id="multiplicative---">Multiplicative: / * %</h3>

<pre><code>2000ms + (1s * 2)
// =&gt; 4000ms

5s / 2
// =&gt; 2.5s

4 % 2
// =&gt; 0
</code></pre>

<p>When using <code>/</code> within a property value, you <strong>must</strong> wrap with parens. Otherwise the <code>/</code> is taken literally (to support CSS <code>line-height</code>):</p>

<pre><code>font: 14px/1.5;
</code></pre>

<p>But the following is evaluated as <code>14px</code> ÷ <code>1.5</code>:</p>

<pre><code>font: (14px/1.5);
</code></pre>

<p>This is <em>only</em> required for the <code>/</code> operator.</p>

<h3 id="exponent-">Exponent: **</h3>

<p>The Exponent operator:</p>

<pre><code>2 ** 8
// =&gt; 256
</code></pre>

<h3 id="equality--relational------">Equality &amp; Relational: == != &gt;= &lt;= &gt; &lt;</h3>

<p>Equality operators can be used to equate units, colors, strings, and even identifiers. This is a powerful concept, as even arbitrary identifiers (such as as <code>wahoo</code>) can be utilized as atoms. A function could return <code>yes</code> or <code>no</code> instead of <code>true</code> or <code>false</code> (although not advised). </p>

<pre><code>5 == 5
// =&gt; true

10 &gt; 5
// =&gt; true

#fff == #fff
// =&gt; true

true == false
// =&gt; false

wahoo == yay
// =&gt; false

wahoo == wahoo
// =&gt; true

"test" == "test"
// =&gt; true

true is true
// =&gt; true

'hey' is not 'bye'
// =&gt; true

'hey' isnt 'bye'
// =&gt; true

(foo bar) == (foo bar)
// =&gt; true

(1 2 3) == (1 2 3)
// =&gt; true

(1 2 3) == (1 1 3)
// =&gt; false
</code></pre>

<p>Only exact values match. For example, <code>0 == false</code> and <code>null == false</code> are both <code>false</code>.</p>

<p>Aliases:</p>

<pre><code>==    is
!=    is not
!=    isnt
</code></pre>

<h2 id="truthfulness">Truthfulness</h2>

<p>Nearly everything within Stylus resolves to <code>true</code>, including units with a suffix. Even <code>0%</code>, <code>0px</code>, etc. will resolve to <code>true</code> (because it’s common in Stylus for mixins or functions to accept units as valid). </p>

<p>However, <code>0</code> itself is <code>false</code> in terms of arithmetic. </p>

<p>Expressions (or “lists”) with a length greater than 1 are considered truthy.</p>

<p><code>true</code> examples:</p>

<pre><code>  0% 
  0px
  1px 
  -1
  -1px
  hey
  'hey'
  (0 0 0)
  ('' '')
</code></pre>

<p><code>false</code> examples:</p>

<pre><code> 0 
 null
 false
 ''
</code></pre>

<h3 id="logical-operators---and-or">Logical Operators: &amp;&amp; || and or</h3>

<p>Logical operators <code>&amp;&amp;</code> and <code>||</code> are aliased <code>and</code> / <code>or</code> which apply the same precedence.</p>

<pre><code>5 &amp;&amp; 3
// =&gt; 3

0 || 5
// =&gt; 5

0 &amp;&amp; 5
// =&gt; 0

#fff is a 'rgba' and 15 is a 'unit'
// =&gt; true
</code></pre>

<h3 id="existence-operator-in">Existence Operator: in</h3>

<p>Checks for the existence of the <em>left-hand</em> operand within the <em>right-hand</em> expression.</p>

<p>Simple examples:</p>

<pre><code>  nums = 1 2 3
  1 in nums
  // =&gt; true

  5 in nums
  // =&gt; false
</code></pre>

<p>Some undefined identifiers:</p>

<pre><code>  words = foo bar baz
  bar in words
  // =&gt; true

  HEY in words
  // =&gt; false
</code></pre>

<p>Works with tuples too:</p>

<pre><code>  vals = (error 'one') (error 'two')
  error in vals
  // =&gt; false
  
  (error 'one') in vals
  // =&gt; true

  (error 'two') in vals
  // =&gt; true

  (error 'something') in vals
  // =&gt; false
</code></pre>

<p>Example usage in mixin:</p>

<pre><code>  pad(types = padding, n = 5px)
    if padding in types
      padding n
    if margin in types
      margin n

  body
    pad()

  body
    pad(margin)

  body
    pad(padding margin, 10px)
</code></pre>

<p>Yielding:</p>

<pre><code>  body {
    padding: 5px;
  }
  body {
    margin: 5px;
  }
  body {
    padding: 10px;
    margin: 10px;
  }
</code></pre>

<h3 id="conditional-assignment--">Conditional Assignment: ?= :=</h3>

<p>The conditional assignment operator <code>?=</code> (aliased as <code>:=</code>) lets us define variables without clobbering old values (if present). This operator expands to an <code>is defined</code> binary operation within a ternary. </p>

<p>For example, the following are equivalent:</p>

<pre><code>color := white
color ?= white
color = color is defined ? color : white
</code></pre>

<p>When using plain <code>=</code>, we simply reassign:</p>

<pre><code>color = white
color = black

color
// =&gt; black
</code></pre>

<p>But when using <code>?=</code>, our second attempt fails (since the variable is already defined):</p>

<pre><code>color = white
color ?= black

color
// =&gt; white
</code></pre>

<h3 id="instance-check-is-a">Instance Check: is a</h3>

<p>Stylus provides a binary operator named <code>is a</code> used to type check.</p>

<pre><code>15 is a 'unit'
// =&gt; true

#fff is a 'rgba'
// =&gt; true

15 is a 'rgba'
// =&gt; false
</code></pre>

<p>Alternatively, we could use the <code>type()</code> BIF:</p>

<pre><code>type(#fff) == 'rgba'
// =&gt; true                                                                            
</code></pre>

<p><strong>Note:</strong> <code>color</code> is the only special-case, evaluating to <code>true</code> when the<br />
left-hand operand is an <code>RGBA</code> or <code>HSLA</code> node.</p>

<h3 id="variable-definition-is-defined">Variable Definition: is defined</h3>

<p>This pseudo binary operator does not accept a right-hand operator, and does <em>not</em> evaluate the left. This allows us to check if a variable has a value assigned to it.</p>

<pre><code>foo is defined
// =&gt; false

foo = 15px
foo is defined
// =&gt; true

#fff is defined
// =&gt; 'invalid "is defined" check on non-variable #fff'
</code></pre>

<p>Alternatively, one can use the <code>lookup(name)</code> built-in function to do this—or to perform dynamic lookups:</p>

<pre><code>name = 'blue'
lookup('light-' + name)
// =&gt; null

light-blue = #80e2e9
lookup('light-' + name)
// =&gt; #80e2e9
</code></pre>

<p>This operator is essential, as an undefined identifier is still a truthy value. For example:</p>

<pre><code>body
  if ohnoes
    padding 5px
</code></pre>

<p><em>Will</em> yield the following CSS when undefined:</p>

<pre><code>body {
  padding: 5px;
}
</code></pre>

<p>However this will be safe:</p>

<pre><code>body
  if ohnoes is defined
    padding 5px
</code></pre>

<h2 id="ternary">Ternary</h2>

<p>The ternary operator works as we would expect in most languages. It’s the only operator with three operands (the <em>condition</em> expression, the <em>truth</em> expression, and the <em>false</em> expression).</p>

<pre><code>num = 15
num ? unit(num, 'px') : 20px
// =&gt; 15px
</code></pre>

<h2 id="casting">Casting</h2>

<p>As an terse alternative to the <code>unit()</code> built-in function, the syntax <code>(expr) unit</code> may be used to force the suffix. </p>

<pre><code>body
  n = 5
  foo: (n)em
  foo: (n)%
  foo: (n + 5)%
  foo: (n * 5)px
  foo: unit(n + 5, '%')
  foo: unit(5 + 180 / 2, deg)
</code></pre>

<h2 id="color-operations">Color Operations</h2>

<p>Operations on colors provide a terse, expressive way to alter components. For example, we can operate on each RGB:</p>

<pre><code>#0e0 + #0e0
// =&gt; #0f0
</code></pre>

<p>Another example is adjust the lightness value by adding or subtracting a percentage. To lighten a color, add; to darken, subtract.</p>

<pre><code>#888 + 50%
// =&gt; #c3c3c3

#888 - 50%
// =&gt; #444
</code></pre>

<p>Adjust the hue is also possible by adding or subtracting with degrees. For example, adding <code>50deg</code> to this red value results in a yellow:</p>

<pre><code> #f00 + 50deg
 // =&gt; #ffd500
</code></pre>

<p>Values clamp appropriately. For example, we can “spin” the hue 180 degrees, and if the current value is <code>320deg</code>, it will resolve to <code>140deg</code>.</p>

<p>We may also tweak several values at once (including the alpha) by using <code>rgb()</code>, <code>rgba()</code>, <code>hsl()</code>, or <code>hsla()</code>:</p>

<pre><code>  #f00 - rgba(100,0,0,0.5)
  // =&gt; rgba(155,0,0,0.5)
</code></pre>

<h2 id="sprintf">Sprintf</h2>

<p>The string sprintf-like operator <code>%</code> can be used to generate a literal value, internally passing arguments through the <code>s()</code> built-in:</p>

<pre><code>   'X::Microsoft::Crap(%s)' % #fc0
   // =&gt; X::Microsoft::Crap(#fc0)
</code></pre>

<p>Multiple values should be parenthesized:</p>

<pre><code>  '-webkit-gradient(%s, %s, %s)' % (linear (0 0) (0 100%))
  // =&gt; -webkit-gradient(linear, 0 0, 0 100%)
</code></pre>



        </div>

        <a href="https://github.com/LearnBoost/stylus/" class="meow">
          <img src="../img/octocat.svg">
        </a>
      </main>

    </div>


    <!--[if lt IE 9]>
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="../js/vendor/jquery-1.11.1.min.js"><\/script>')</script>
    <![endif]-->
    <!--[if gt IE 8]><!-->
      <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script>window.jQuery || document.write('<script src="../js/vendor/jquery-2.1.1.min.js"><\/script>')</script>
    <!--<![endif]-->
    <script src="../js/plugins.js"></script>
    <script src="../js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59751437-1', 'auto');
      ga('send', 'pageview');

    </script>
  </body>
</html>
